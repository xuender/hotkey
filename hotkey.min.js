var KEY_NAME,KeyHandler;KEY_NAME=["ctrlKey","altKey","metaKey","shiftKey"],KeyHandler=function(){function a(a,b){var c,d,e,f;for(this.key=a,this.callback=b,d=a.toUpperCase().split("+"),this.keyCode=d.pop().charCodeAt(0),this.ctrlKey=!1,this.altKey=!1,this.metaKey=!1,this.shiftKey=!1,e=0,f=d.length;f>e;e++)c=d[e],this.ctrlKey=c.indexOf("CTR")>=0||this.ctrlKey,this.altKey=c.indexOf("ALT")>=0||this.altKey,this.metaKey=c.indexOf("MET")>=0||this.metaKey,this.shiftKey=c.indexOf("SHI")>=0||this.shiftKey}return a.keys=[],a.bind=function(b,c){var d,e,f,g,h;for(0===a.keys.length&&document&&document.addEventListener("keyup",function(b){var c,d,e,f,g,h,i,j,k;for(j=a.keys,k=[],f=0,h=j.length;h>f;f++)if(d=j[f],d.keyCode===b.keyCode){for(c=!0,g=0,i=KEY_NAME.length;i>g;g++)e=KEY_NAME[g],d[e]!==b[e]&&(c=!1);k.push(c?d.callback():void 0)}else k.push(void 0);return k},!1),g=b.split(" "),h=[],e=0,f=g.length;f>e;e++)d=g[e],h.push(this.keys.push(new a(d,c)));return h},a}(),angular.module("hotkey",[]).factory("KeyHandler",function(){return{bind:function(a,b){return KeyHandler.bind(a,b)}}}).directive("hotkey",["KeyHandler",function(a){return{restrict:"A",link:function(b,c,d){return d.ngClick?a.bind(d.hotkey,function(){return b.$apply(d.ngClick)}):a.bind(d.hotkey,function(){return c[0].focus()})}}}]);